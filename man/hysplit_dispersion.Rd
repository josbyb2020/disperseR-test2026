% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/hysplit_dispersion.R
\name{hysplit_dispersion}
\alias{hysplit_dispersion}
\title{Run HYSPLIT dispersion model}
\usage{
hysplit_dispersion(
  lat = 49.263,
  lon = -123.25,
  height = 50,
  duration = 24,
  start_day = "2015-07-01",
  start_hour = 0,
  direction = "forward",
  met_type = "reanalysis",
  met_dir = NULL,
  vert_motion = 0,
  model_height = 20000,
  particle_num = 2500,
  particle_max = 10000,
  emissions,
  species,
  grids,
  return_disp_df = TRUE,
  write_disp_CSV = TRUE,
  disp_name = NULL,
  run_dir,
  binary_path = NULL,
  parhplot_path = NULL
)
}
\arguments{
\item{lat}{Numeric. Source latitude in decimal degrees. Default 49.263.}

\item{lon}{Numeric. Source longitude in decimal degrees. Default -123.250.}

\item{height}{Numeric. Source height in meters above ground. Default 50.}

\item{duration}{Numeric. Simulation duration in hours. Default 24.}

\item{start_day}{Character, Date, or POSIXt. Start date in "YYYY-MM-DD" format.}

\item{start_hour}{Numeric. Start hour (0-23). Default 0.}

\item{direction}{Character. "forward" or "backward". Default "forward".}

\item{met_type}{Character. Meteorology type: "reanalysis" or "gdas1".}

\item{met_dir}{Character. Path to meteorology files. Defaults to working directory.}

\item{vert_motion}{Numeric. Vertical motion method (0-4). Default 0.}

\item{model_height}{Numeric. Top of model domain in meters. Default 20000.}

\item{particle_num}{Numeric. Number of particles released. Default 2500.}

\item{particle_max}{Numeric. Maximum particles tracked. Default 10000.}

\item{emissions}{Data frame. Emission parameters (see add_emissions).}

\item{species}{Data frame. Species parameters (see add_species).}

\item{grids}{Data frame. Grid parameters (see add_grid).}

\item{return_disp_df}{Logical. Return dispersion data frame? Default TRUE.}

\item{write_disp_CSV}{Logical. Write dispersion CSV to run_dir? Default TRUE.}

\item{disp_name}{Character. Optional name prefix for output files.}

\item{run_dir}{Character. Working directory for HYSPLIT output. Required.
Supports ~ expansion. Created if it doesn't exist.}

\item{binary_path}{Character. Path to the HYSPLIT hycs_std binary. If NULL,
uses the binary bundled with SplitR when available.}

\item{parhplot_path}{Character. Path to the HYSPLIT parhplot binary. If NULL,
uses the binary bundled with SplitR when available.}
}
\value{
If return_disp_df is TRUE, returns a data frame with dispersion results.
  Otherwise returns invisibly.
}
\description{
Executes a single HYSPLIT dispersion simulation. This is a
modified version of SplitR's dispersion function, adapted for disperseR
workflows.
}
\details{
HYSPLIT binaries are required for dispersion runs. If the SplitR package is
installed, disperseR will use its bundled binaries; otherwise provide
`binary_path` and `parhplot_path`.

Meteorology files are downloaded automatically if not present in met_dir.
Reanalysis files are ~120 MB each.
}
\examples{
\dontrun{
# Basic dispersion run
result <- hysplit_dispersion(
  lat = 39.9,
  lon = -75.1,
  height = 100,
  start_day = "2005-06-15",
  emissions = my_emissions,
  species = my_species,
  grids = my_grids,
  run_dir = "~/disperseR_output/run1"
)
}

}
\seealso{
[add_emissions()], [add_species()], [add_grid()], [run_model()]
}
